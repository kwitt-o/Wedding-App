<div class="modal-backdrop" (click)="close.emit()">
    <div class="modal-content" (click)="$event.stopPropagation()">
        <button class="close-btn" (click)="close.emit()">
            <svg viewBox="0 0 24 24" width="24" height="24" stroke="currentColor" stroke-width="2" fill="none">
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
            </svg>
        </button>


        <h3 class="modal-title">Leave a Message</h3>

        <form [formGroup]="wishForm" (ngSubmit)="submit()" class="wish-form">
            <div class="form-group">
                <label>Your Name <span class="required">*</span> </label>
                <input formControlName="name" type="text">
            </div>
            <div class="form-group">
                <label>Relationship <span class="required">*</span> </label>
                <input formControlName="relationship" type="text" placeholder="e.g. Friend of Bride">
            </div>
            <div class="form-group">
                <label>Message <span class="required">*</span> </label>
                <textarea formControlName="message" rows="4"></textarea>
            </div>

            <button type="submit" [disabled]="wishForm.invalid || isSubmitting" class="submit-btn">
                {{ isSubmitting ? 'Posting...' : 'Post Wish' }}
            </button>

            <p *ngIf="success" class="success-msg">Thank you! We have received your heartfelt message.</p>
            <p *ngIf="error" class="error-msg">Something went wrong. Please try again.</p>
        </form>
    </div>
</div>